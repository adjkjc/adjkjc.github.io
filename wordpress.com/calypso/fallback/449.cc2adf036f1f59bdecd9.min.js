(window.webpackJsonp=window.webpackJsonp||[]).push([[449],{"./signup/config/steps-pure.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var i=n("../node_modules/react/index.js"),s=n.n(i),r=n("../node_modules/lodash-es/noop.js"),a=n("../packages/i18n-calypso/dist/esm/index.js"),o=n("./config/index.js"),p=n("./lib/plans/constants.js");function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.addPlanToCart,n=void 0===t?r.a:t,i=e.createAccount,u=void 0===i?r.a:i,c=e.createSite,l=void 0===c?r.a:c,d=e.createWpForTeamsSite,m=void 0===d?r.a:d,g=e.createSiteOrDomain,h=void 0===g?r.a:g,v=e.createSiteWithCart,f=void 0===v?r.a:v,y=e.currentPage,b=void 0===y?r.a:y,S=e.setThemeOnSite,j=void 0===S?r.a:S,w=e.addDomainToCart,D=void 0===w?r.a:w,N=e.launchSiteApi,T=void 0===N?r.a:N,k=e.isPlanFulfilled,O=void 0===k?r.a:k,_=e.isDomainFulfilled,R=void 0===_?r.a:_,I=e.removeDomainStepForPaidPlans,F=void 0===I?r.a:I,q=e.isSiteTypeFulfilled,C=void 0===q?r.a:q,x=e.isSiteTopicFulfilled,P=void 0===x?r.a:x,U=e.addOrRemoveFromProgressStore,W=void 0===U?r.a:U;return{survey:{stepName:"survey",props:{surveySiteType:b&&b.toString().match(/\/start\/blog/)?"blog":"site"},providesDependencies:["surveySiteType","surveyQuestion"]},themes:{stepName:"themes",dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo","useThemeHeadstart"],optionalDependencies:["useThemeHeadstart"]},"portfolio-themes":{stepName:"portfolio-themes",props:{designType:"grid"},dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo"]},"template-first-themes":{stepName:"template-first-themes",props:{designType:"template-first",quantity:18},dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo","useThemeHeadstart"]},"fse-themes":{stepName:"fse-themes",props:{designType:"fse-compatible",quantity:6},dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo","useThemeHeadstart"]},"themes-site-selected":{stepName:"themes-site-selected",dependencies:["siteSlug","themeSlugWithRepo"],providesDependencies:["themeSlugWithRepo","useThemeHeadstart"],apiRequestFunction:j,props:{headerText:a.a.translate("Choose a theme for your new site.")}},"domains-launch":{stepName:"domains-launch",apiRequestFunction:D,fulfilledStepCallback:R,providesDependencies:["domainItem"],props:{isDomainOnly:!1,showExampleSuggestions:!1,shouldShowDomainTestCopy:!1,includeWordPressDotCom:!1,showSkipButton:!0,headerText:a.a.translate("Getting ready to launch, pick a domain"),subHeaderText:a.a.translate("Select a domain name for your website")},dependencies:["siteSlug"]},"plans-site-selected":{stepName:"plans-site-selected",apiRequestFunction:n,dependencies:["siteSlug"],providesDependencies:["cartItem"]},site:{stepName:"site",apiRequestFunction:l,providesDependencies:["siteSlug"]},"rebrand-cities-welcome":{stepName:"rebrand-cities-welcome",apiRequestFunction:f,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{isDomainOnly:!1},delayApiRequestUntilComplete:!0},about:{stepName:"about",providesDependencies:["designType","themeSlugWithRepo","siteTitle","surveyQuestion"]},user:{stepName:"user",apiRequestFunction:u,providesToken:!0,providesDependencies:["bearer_token","username","marketing_price_group"],props:{isSocialSignupEnabled:o.a.isEnabled("signup/social")}},"site-title":{stepName:"site-title",providesDependencies:["siteTitle"]},test:{stepName:"test"},plans:{stepName:"plans",apiRequestFunction:n,dependencies:["siteSlug"],providesDependencies:["cartItem"],fulfilledStepCallback:O},"plans-ecommerce":{stepName:"plans-ecommerce",apiRequestFunction:n,dependencies:["siteSlug"],providesDependencies:["cartItem"],fulfilledStepCallback:O,props:{hideFreePlan:!0,planTypes:[p.Pc,p.Qc]}},"plans-import":{stepName:"plans-import",apiRequestFunction:n,dependencies:["siteSlug"],providesDependencies:["cartItem"],fulfilledStepCallback:O,props:{planTypes:[p.Rc,p.Sc,p.Tc,p.Pc]}},"plans-personal":{stepName:"plans-personal",apiRequestFunction:n,fulfilledStepCallback:O,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:p.Gc}},"plans-premium":{stepName:"plans-premium",apiRequestFunction:n,fulfilledStepCallback:O,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:p.Ic}},"plans-business":{stepName:"plans-business",apiRequestFunction:n,fulfilledStepCallback:O,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:p.qc}},"plans-ecommerce-fulfilled":{stepName:"plans-ecommerce-fulfilled",apiRequestFunction:n,fulfilledStepCallback:O,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:p.uc}},"plans-launch":{stepName:"plans-launch",apiRequestFunction:n,fulfilledStepCallback:O,dependencies:["siteSlug"],providesDependencies:["cartItem"],props:{headerText:a.a.translate("Getting ready to launch your website"),subHeaderText:a.a.translate("Pick a plan that's right for you. Upgrade as you grow."),fallbackHeaderText:a.a.translate("Almost there, pick a plan that's right for you. Upgrade as you grow."),isLaunchPage:!0}},"upsell-plan":{stepName:"upsell-plan",fulfilledStepCallback:W},"plans-plan-only":{stepName:"plans-plan-only",apiRequestFunction:n,fulfilledStepCallback:W,dependencies:["siteSlug"],providesDependencies:["cartItem"],props:{hideFreePlan:!0,planTypes:[p.Sc,p.Tc]}},"plans-store-nux":{stepName:"plans-store-nux",apiRequestFunction:n,dependencies:["siteSlug","domainItem"],providesDependencies:["cartItem"]},"plans-with-domain":{stepName:"plans-with-domain",apiRequestFunction:n,fulfilledStepCallback:O,dependencies:["siteSlug"],providesDependencies:["cartItem","isPreLaunch","isGutenboardingCreate"],props:{headerText:a.a.translate("Choose a plan"),subHeaderText:a.a.translate("Pick a plan that’s right for you. Switch plans as your needs change. {{br/}} There’s no risk, you can cancel for a full refund within 30 days.",{components:{br:s.a.createElement("br",null)},comment:"Subheader of the plans page where users land from onboarding after they picked a paid domain"})}},domains:{stepName:"domains",apiRequestFunction:f,providesDependencies:["siteId","siteSlug","domainItem","themeItem","shouldHideFreePlan"],optionalDependencies:["shouldHideFreePlan"],fulfilledStepCallback:F,props:{isDomainOnly:!1},delayApiRequestUntilComplete:!0},"domain-only":{stepName:"domain-only",providesDependencies:["siteId","siteSlug","domainItem"],props:{isDomainOnly:!0,shouldShowDomainTestCopy:!1}},"domains-store":{stepName:"domains",apiRequestFunction:f,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{isDomainOnly:!1,forceDesignType:"store"},delayApiRequestUntilComplete:!0},"domains-theme-preselected":{stepName:"domains-theme-preselected",apiRequestFunction:f,providesDependencies:["siteId","siteSlug","domainItem","themeItem","shouldHideFreePlan","useThemeHeadstart"],optionalDependencies:["shouldHideFreePlan","useThemeHeadstart"],props:{isDomainOnly:!1},delayApiRequestUntilComplete:!0},"jetpack-user":{stepName:"jetpack-user",apiRequestFunction:u,providesToken:!0,props:{headerText:a.a.translate("Create an account for Jetpack"),subHeaderText:a.a.translate("You're moments away from connecting Jetpack.")},providesDependencies:["bearer_token","username"]},"oauth2-user":{stepName:"oauth2-user",apiRequestFunction:u,props:{oauth2Signup:!0},providesToken:!0,providesDependencies:["bearer_token","username","oauth2_client_id","oauth2_redirect","marketing_price_group"]},"oauth2-name":{stepName:"oauth2-name",apiRequestFunction:u,providesToken:!0,providesDependencies:["bearer_token","username","oauth2_client_id","oauth2_redirect","marketing_price_group"],props:{isSocialSignupEnabled:o.a.isEnabled("signup/social"),oauth2Signup:!0,displayNameInput:!0,displayUsernameInput:!1}},displayname:{stepName:"displayname",apiRequestFunction:u,providesToken:!0,providesDependencies:["bearer_token","username"],props:{isSocialSignupEnabled:o.a.isEnabled("signup/social"),displayNameInput:!0,displayUsernameInput:!1}},"site-or-domain":{stepName:"site-or-domain",props:{headerText:a.a.translate("Choose how you want to use your domain."),subHeaderText:a.a.translate("Don't worry you can easily add a site later if you're not ready.")},providesDependencies:["designType","siteId","siteSlug","siteUrl","domainItem","themeSlugWithRepo"]},"site-picker":{stepName:"site-picker",apiRequestFunction:h,props:{headerText:a.a.translate("Choose your site?")},providesDependencies:["siteId","siteSlug","domainItem","themeSlugWithRepo"],dependencies:["cartItem","designType","domainItem","siteUrl","themeSlugWithRepo"],delayApiRequestUntilComplete:!0},"creds-complete":{stepName:"creds-complete",providesDependencies:[]},"creds-confirm":{stepName:"creds-confirm",providesDependencies:["rewindconfig"]},"creds-permission":{stepName:"creds-permission",providesDependencies:["rewindconfig"]},"rewind-migrate":{stepName:"rewind-migrate",providesDependencies:["rewindconfig"]},"rewind-were-backing":{stepName:"rewind-were-backing",providesDependencies:[]},"rewind-form-creds":{stepName:"rewind-form-creds",providesDependencies:["rewindconfig"]},"clone-start":{stepName:"clone-start",providesDependencies:["originSiteSlug","originSiteName","originBlogId"]},"clone-destination":{stepName:"clone-destination",providesDependencies:["destinationSiteName","destinationSiteUrl"]},"clone-credentials":{stepName:"clone-credentials",providesDependencies:["roleName"]},"clone-point":{stepName:"clone-point",providesDependencies:["clonePoint"]},"clone-jetpack":{stepName:"clone-jetpack",providesDependencies:["cloneJetpack"]},"clone-ready":{stepName:"clone-ready",providesDependencies:[]},"clone-cloning":{stepName:"clone-cloning",providesDependencies:[]},"from-url":{stepName:"from-url",providesDependencies:["importSiteEngine","importSiteFavicon","importSiteUrl","siteTitle","suggestedDomain","themeSlugWithRepo"]},"import-url":{stepName:"import-url",providesDependencies:["importSiteEngine","importSiteFavicon","importSiteUrl","siteTitle","suggestedDomain","themeSlugWithRepo"]},"import-preview":{stepName:"import-preview",dependencies:["importSiteEngine","importSiteFavicon","importSiteUrl","siteTitle"]},"reader-landing":{stepName:"reader-landing",providesDependencies:[]},"site-type":{stepName:"site-type",providesDependencies:["siteType","themeSlugWithRepo"],fulfilledStepCallback:C},"site-type-with-theme":{stepName:"site-type",providesDependencies:["siteType"],fulfilledStepCallback:C},"site-topic":{stepName:"site-topic",providesDependencies:["siteTopic","themeSlugWithRepo"],optionalDependencies:["themeSlugWithRepo"],fulfilledStepCallback:P},"site-topic-with-theme":{stepName:"site-topic",providesDependencies:["siteTopic"],fulfilledStepCallback:P},"site-title-without-domains":{stepName:"site-title-without-domains",apiRequestFunction:f,delayApiRequestUntilComplete:!0,dependencies:["themeSlugWithRepo"],providesDependencies:["siteTitle","siteId","siteSlug","domainItem","themeItem"],props:{showSiteMockups:!0}},"site-style":{stepName:"site-style",providesDependencies:["siteStyle","themeSlugWithRepo"]},"site-topic-with-preview":{stepName:"site-topic-with-preview",providesDependencies:["siteTopic","themeSlugWithRepo"],optionalDependencies:["themeSlugWithRepo"],fulfilledStepCallback:P,props:{showSiteMockups:!0}},"site-style-with-preview":{stepName:"site-style-with-preview",providesDependencies:["siteStyle","themeSlugWithRepo"],props:{showSiteMockups:!0}},"domains-with-preview":{stepName:"domains-with-preview",apiRequestFunction:f,providesDependencies:["siteId","siteSlug","domainItem","themeItem","shouldHideFreePlan"],optionalDependencies:["shouldHideFreePlan"],props:{showSiteMockups:!0,isDomainOnly:!1},dependencies:["themeSlugWithRepo"],delayApiRequestUntilComplete:!0},"site-title-with-preview":{stepName:"site-title-with-preview",providesDependencies:["siteTitle"],props:{showSiteMockups:!0}},launch:{stepName:"launch",apiRequestFunction:T,dependencies:["siteSlug"],providesDependencies:["isPreLaunch"]},passwordless:{stepName:"passwordless",providesToken:!0,providesDependencies:["bearer_token","email","username"],unstorableDependencies:["bearer_token"]},"team-site":{stepName:"team-site",apiRequestFunction:m,providesDependencies:["siteSlug"]}}}var c=u();t.a=c},"./state/plans/selectors.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d}));var i=n("../node_modules/lodash-es/find.js"),s=n("../node_modules/lodash-es/get.js"),r=n("./lib/create-selector/index.js"),a=n("./lib/plans/index.js"),o=function(e){return e.plans.items},p=function(e){return e.plans.requesting},u=Object(r.a)((function(e,t){return Object(i.a)(o(e),{product_id:t})}),(function(e){return o(e)})),c=Object(r.a)((function(e,t){return Object(i.a)(o(e),{product_slug:t})}),(function(e){return o(e)}));function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=u(e,t);return Object(s.a)(i,"raw_price",-1)<0?null:n?Object(a.b)(i.product_slug,i.raw_price):i.raw_price}function d(e,t){var n=u(e,t);return Object(s.a)(n,"product_slug",null)}},"./state/products-list/selectors.js":function(e,t,n){"use strict";n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return S}));var i=n("../node_modules/@babel/runtime/helpers/objectSpread2.js"),s=n.n(i),r=n("../node_modules/lodash-es/pickBy.js"),a=n("../node_modules/lodash-es/get.js"),o=n("../node_modules/lodash-es/max.js"),p=n("./lib/abtest/index.js"),u=n("./state/sites/plans/selectors.js"),c=n("./state/plans/selectors.js"),l=n("./lib/plans/index.js"),d=n("./lib/plans/constants.js");function m(e){return e.productsList.isFetching}function g(e){return e.productsList.items}function h(e){return Object(r.a)(e.productsList.items,(function(e){return e.available}))}function v(e,t){return Object(a.a)(e,["productsList","items",t],null)}function f(e,t){var n=v(e,t);return n?n.cost_display:null}function y(e,t){var n=v(e,t);return n?n.cost:null}var b=function(e,t,n,i){return Object(u.b)(e,t,n.getStoreSlug(),{isMonthly:i})||Object(c.c)(e,n.getProductId(),i)},S=function(e,t,n,i,r){var u=g(e);return n.map((function(e){return function(e,t){var n=Object(l.i)(t);return{planSlug:t,plan:Object(l.a)(n,p.a),product:e[t]}}(u,e)})).filter((function(e){return e.plan&&Object(a.a)(e,["product","available"])})).map((function(n){return s()({},n,{},function(e,t,n,i,s){var r=s[n.getProductId()]||0;return{priceFullBeforeDiscount:Object(c.c)(e,n.getProductId(),!1),priceFull:b(e,t,n,!1),priceFinal:Object(o.a)([b(e,t,n,!1)-i-r,0]),priceMonthly:b(e,t,n,!0)}}(e,t,n.plan,i,r))})).filter((function(e){return e.priceFull})).sort((function(e,t){return Object(d.Uc)(e.plan.term)-Object(d.Uc)(t.plan.term)}))}},"./state/signup/init.js":function(e,t,n){"use strict";var i=n("./state/redux-store.ts"),s=n("./state/utils/with-storage-key.js"),r=n("./state/utils/reducer-utils.js"),a=n("../node_modules/@babel/runtime/helpers/objectSpread2.js"),o=n.n(a),p=n("./state/action-types.js"),u=n("./state/utils/schema-utils.js"),c={};var l=Object(u.a)({type:"object",properties:{cartItem:{OneOfType:[{type:"null"},{type:"optional"},{type:"object",properties:{product_slug:{type:"string"},free_trial:{type:"boolean"}}}]},designType:{type:"string"},domainItem:{OneOfType:[{type:"null"},{type:"optional"},{type:"object",properties:{is_domain_registration:{type:"boolean"},product_slug:{type:"string"},meta:{type:"string"}}}]},surveyQuestion:{type:"string"},surveySiteType:{type:"string"},theme:{type:"string"}}},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.mp:return o()({},e,{},t.dependencies);case p.tp:case p.op:var n=t.step.providedDependencies;return n?o()({},e,{},n):e;case p.kp:return c;default:return e}})),d=n("../node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),m=n.n(d),g=n("../node_modules/@babel/runtime/helpers/defineProperty.js"),h=n.n(g),v=n("../node_modules/lodash-es/get.js"),f=n("../node_modules/lodash-es/keyBy.js"),y=n("../node_modules/lodash-es/omit.js"),b=n("../node_modules/lodash-es/has.js"),S=n("../node_modules/debug/src/browser.js"),j=n.n(S),w=n("./signup/config/steps-pure.js"),D=j()("calypso:state:signup:progress:reducer"),N=function(e,t){return D("Adding step ".concat(t.stepName)),o()({},e,h()({},t.stepName,t))},T=function(e,t){var n=t.stepName,i=t.status,s=Object(v.a)(e,n);if(!s)return e;if(D("Updating step ".concat(n)),"pending"===i||"completed"===i){s.wasSkipped;var r=m()(s,["wasSkipped"]);return o()({},e,h()({},n,o()({},r,{},t)))}return o()({},e,h()({},n,o()({},s,{},t)))},k=function(e,t){var n=t.steps,i=void 0===n?{}:n;return Object(f.a)(i,"stepName")},O=function(e,t){var n=t.step;return Object(y.a)(e,n.stepName)},_=function(e,t){var n=t.step;return T(e,o()({},n,{status:"completed"}))},R=function(e,t){var n=t.step,i=t.errors,s=o()({},n,{errors:i,status:"invalid"});return Object(b.a)(e,n.stepName)?T(e,s):N(e,s)},I=function(e,t){var n=t.step;return T(e,o()({},n,{status:"processing"}))},F=function(e,t){var n=t.step;return Object(b.a)(e,n.stepName)?T(e,n):N(e,o()({},n,{status:"in-progress"}))},q=function(e,t){var n=t.step,i=Object(v.a)(w.a,[n.stepName,"apiRequestFunction"])?"pending":"completed";return Object(b.a)(e,n.stepName)?T(e,o()({},n,{status:i})):N(e,o()({},n,{status:i}))},C=Object(u.a)({type:"object",patternProperties:{"^[w-]+$":{type:"object",properties:{formData:{type:"object",properties:{url:{type:"string"}}},lastUpdated:{type:"number"},status:{type:"string",enum:["completed","processing","pending","in-progress","invalid"]},stepName:{type:"string"}}}}},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.kp:return k(0,t);case p.op:return _(e,t);case p.pp:return R(e,t);case p.qp:return I(e,t);case p.sp:return F(e,t);case p.tp:return q(e,t);case p.Ap:return delete e["domains-with-preview"],e;case p.rp:return O(e,t)}return e})),x=Object(u.a)({type:["string","null"]},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.np:return t.data}return e})),P=Object(r.a)({suggestedUsername:x}),U=Object(u.a)({type:["string","null"]},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.wp:return t.designType;case p.kp:return""}return e})),W=Object(u.a)({type:["string","null"]},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.zp:return t.siteTitle;case p.kp:return""}return e})),H=Object(u.a)({type:["string","null"]},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.xp:return t.siteGoals;case p.kp:return""}return e})),A=Object(u.a)({type:["string","null"]},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.Dp:return t.userExperience;case p.kp:return""}return e})),B=Object(u.a)({type:["string","null"]},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.yp:return t.siteStyle;case p.kp:return""}return e})),E=Object(u.a)({type:["string","null"]},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.Ap:return t.siteType;case p.kp:return""}return e})),M=n("./state/jetpack-connect/action-types.js"),L={id:"",isUserInput:!0,name:"",parentId:"",slug:"",preview:"",suggestedTheme:""},G=Object(u.a)({type:"object",additionalProperties:!1,properties:{id:{type:"string"},isUserInput:{type:"boolean"},name:{type:"string"},parentId:{type:"string"},preview:{type:"string"},slug:{type:"string"},suggestedTheme:{type:"string"}}},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.Bp:return o()({},e,{},Object(y.a)(t,"type"));case p.kp:case M.a:return{}}return e})),J=Object(u.a)({type:"object",properties:{vertical:{type:"string"},otherText:{type:"string"},siteType:{type:"string"}}},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.Cp:return o()({},e,{vertical:t.survey.vertical,otherText:t.survey.otherText,siteType:t.survey.siteType});case p.kp:return{}}return e})),Q=Object(r.a)({designType:U,siteTitle:W,siteGoals:H,userExperience:A,siteStyle:B,siteType:E,siteVertical:G,survey:J}),V=Object(u.a)({type:"string"},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.flowName,i=t.type;return i===p.lp?n:e})),z=Object(r.a)({currentFlowName:V}),Y=n("./state/utils/keyed-reducer.js"),$=Object(Y.a)("siteType",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===p.Fp?o()({},e,h()({},t.search.trim().toLowerCase(),t.verticals)):e})),K={isVisible:!1},X=Object(s.a)("signup",Object(r.a)({dependencyStore:l,optionalDependencies:P,progress:C,steps:Q,flow:z,verticals:$,preview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.vp:return o()({},e,{isVisible:!0});case p.up:return o()({},e,{isVisible:!1});default:return e}}}));Object(i.a)(["signup"],X)},"./state/sites/plans/assembler.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e?{autoRenew:Boolean(e.auto_renew),autoRenewDate:e.auto_renew_date,canStartTrial:Boolean(e.can_start_trial),currentPlan:Boolean(e.current_plan),currencyCode:e.currency_code,discountReason:e.discount_reason,expiry:e.expiry,expiryDate:e.expiry,formattedDiscount:e.formatted_discount,formattedOriginalPrice:e.formatted_original_price,formattedPrice:e.formatted_price,freeTrial:Boolean(e.free_trial),hasDomainCredit:Boolean(e.has_domain_credit),id:Number(e.id),interval:Number(e.interval),isDomainUpgrade:Boolean(e.is_domain_upgrade),productName:e.product_name,productSlug:e.product_slug,rawDiscount:e.raw_discount,rawPrice:e.raw_price,subscribedDate:e.subscribed_date,userIsOwner:Boolean(e.user_is_owner)}:{}}},"./state/sites/plans/selectors.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return S})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return w})),n.d(t,"h",(function(){return D})),n.d(t,"l",(function(){return N})),n.d(t,"j",(function(){return T})),n.d(t,"k",(function(){return k})),n.d(t,"g",(function(){return O})),n.d(t,"i",(function(){return _}));var i=n("../node_modules/lodash-es/find.js"),s=n("../node_modules/lodash-es/get.js"),r=n("../node_modules/debug/src/browser.js"),a=n.n(r),o=n("../node_modules/moment/moment.js"),p=n.n(o),u=n("./state/sites/plans/reducer.js"),c=n("./state/sites/selectors/get-site.js"),l=n("./state/sites/plans/assembler.js"),d=n("./lib/create-selector/index.js"),m=n("./lib/plans/index.js"),g=a()("calypso:state:sites:plans:selectors");function h(e,t){return t?v(e,t.ID):u.a}function v(e,t){return t&&e.sites.plans[t]||u.a}var f=function(e,t){var n=v(e,t);if(n.data){var s=Object(i.a)(n.data,"currentPlan");if(s)return g("current plan: %o",s),s;var r=Object(c.a)(e,t),a=Object(l.a)(r.plan);return g("current plan: %o",a),a}return null},y=Object(d.a)((function(e,t,n){var i=v(e,t);return i&&i.data?i.data.filter((function(e){return e.productSlug===n})).shift():null}),(function(e,t){return v(e,t)}));function b(e,t,n){var i=y(e,t,n);return i?Object(s.a)(i,"rawDiscount",-1)>0:null}function S(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.isMonthly,a=void 0!==r&&r,o=y(e,t,n);if(Object(s.a)(o,"rawPrice",-1)<0||!b(e,t,n))return null;var p=o.rawPrice;return a?Object(m.b)(n,p):p}function j(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i.isMonthly,a=void 0!==r&&r,o=y(e,t,n);if(Object(s.a)(o,"rawPrice",-1)<0)return null;var p=o.rawPrice+Object(s.a)(o,"rawDiscount",0);return a?Object(m.b)(n,p):p}function w(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i.isMonthly,r=void 0!==s&&s,a=y(e,t,n);return b(e,t,n)?r?Object(m.b)(n,a.rawDiscount):a.rawDiscount:null}function D(e,t){if(!t)return u.a;var n=f(e,t);return Object(s.a)(n,"hasDomainCredit",null)}function N(e,t){return v(e,t).isRequesting}function T(e,t){var n=f(e,t);return!n||!n.expiryDate||p()(n.expiryDate).startOf("day")<p()().add(30,"days")}function k(e,t){var n=f(e,t);return Object(s.a)(n,"userIsOwner",!1)}function O(e,t){return Object(s.a)(f(e,t),"productSlug",null)}function _(e,t,n){return Object(m.A)(O(e,t),n)}}}]);
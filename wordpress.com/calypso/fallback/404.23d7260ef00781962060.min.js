(window.webpackJsonp=window.webpackJsonp||[]).push([[404],{"./components/data/query-active-theme/index.jsx":function(e,t,n){"use strict";var s=n("../node_modules/@babel/runtime/helpers/classCallCheck.js"),r=n.n(s),a=n("../node_modules/@babel/runtime/helpers/createClass.js"),i=n.n(a),o=n("../node_modules/@babel/runtime/helpers/inherits.js"),c=n.n(o),u=n("../node_modules/@babel/runtime/helpers/createSuper.js"),d=n.n(u),l=n("../node_modules/@babel/runtime/helpers/defineProperty.js"),p=n.n(l),m=n("../node_modules/prop-types/index.js"),h=n.n(m),f=n("../node_modules/react/index.js"),b=n("../node_modules/react-redux/es/index.js"),j=n("../node_modules/debug/src/browser.js"),_=n.n(j),y=n("./lib/wp/browser.js"),v=n("./state/themes/action-types.js"),x=n("./state/sites/selectors/is-jetpack-site.js"),w=n("./state/themes/actions/receive-theme.js"),g=(n("./state/themes/init.js"),_()("calypso:themes:actions"));function k(e,t){var n;return null!==(n=e.themes.activeThemeRequests[t])&&void 0!==n&&n}var O=function(e){c()(n,e);var t=d()(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"componentDidMount",value:function(){this.request(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.siteId!==e.siteId&&this.request(e)}},{key:"request",value:function(e){e.siteId&&!e.isRequesting&&e.requestActiveTheme(e.siteId)}},{key:"render",value:function(){return null}}]),n}(f.Component);p()(O,"propTypes",{siteId:h.a.number,isRequesting:h.a.bool.isRequired,requestActiveTheme:h.a.func.isRequired});t.a=Object(b.c)((function(e,t){return{isRequesting:k(e,t.siteId)}}),{requestActiveTheme:function(e){return function(t,n){return t({type:v.a,siteId:e}),y.a.undocumented().activeTheme(e).then((function(s){g("Received current theme",s);var r=Object(x.a)(n(),e)?e:"wpcom";t(Object(w.a)(s,r)),t({type:v.c,siteId:e,theme:s})})).catch((function(n){t({type:v.b,siteId:e,error:n})}))}}})(O)},"./components/header-cake/index.jsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var s=n("../node_modules/@babel/runtime/helpers/classCallCheck.js"),r=n.n(s),a=n("../node_modules/@babel/runtime/helpers/createClass.js"),i=n.n(a),o=n("../node_modules/@babel/runtime/helpers/inherits.js"),c=n.n(o),u=n("../node_modules/@babel/runtime/helpers/createSuper.js"),d=n.n(u),l=n("../node_modules/prop-types/index.js"),p=n.n(l),m=n("../node_modules/react/index.js"),h=n.n(m),f=n("../node_modules/classnames/index.js"),b=n.n(f),j=n("../packages/components/dist/esm/card/index.js"),_=n("../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),y=n.n(_),v=n("../node_modules/@babel/runtime/helpers/defineProperty.js"),x=n.n(v),w=n("../packages/viewport/dist/esm/index.js"),g=n("../packages/i18n-calypso/dist/esm/index.js"),k=n("./components/gridicon/index.tsx"),O=n("../node_modules/lodash-es/throttle.js"),T=n("../packages/components/dist/esm/button/index.js"),C=(n("./components/header-cake/style.scss"),480),I=8,S=function(e){c()(n,e);var t=d()(n);function n(){var e;r()(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),x()(y()(e),"state",{windowWidth:Object(w.c)()}),x()(y()(e),"handleWindowResize",(function(){e.setState({windowWidth:Object(w.c)()})})),e}return i()(n,[{key:"componentDidMount",value:function(){this.resizeThrottled=Object(O.a)(this.handleWindowResize,100),window.addEventListener("resize",this.resizeThrottled)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeThrottled)}},{key:"hideText",value:function(e){return!this.props.alwaysShowActionText&&(this.state.windowWidth<=C&&e.length>=I||this.state.windowWidth<=300)}},{key:"render",value:function(){var e=this.props,t=e.href,n=e.icon,s=e.onClick,r=e.spacer,a=e.text,i=e.translate,o=void 0===a?i("Back"):a,c=b()({"header-cake__back":!0,"is-spacer":r,"is-action":!!n});return h.a.createElement(T.a,{compact:!0,borderless:!0,className:c,href:t,onClick:s,disabled:r},h.a.createElement(k.a,{icon:n||"arrow-left",size:18}),!this.hideText(o)&&o)}}]),n}(m.Component);x()(S,"propTypes",{onClick:p.a.func,href:p.a.string,text:p.a.string,spacer:p.a.bool,alwaysShowActionText:p.a.bool}),x()(S,"defaultProps",{spacer:!1,disabled:!1,alwaysShowActionText:!1});var A=Object(g.c)(S),N=function(e){c()(n,e);var t=d()(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.backText,n=e.backHref,s=e.actionButton,r=e.actionText,a=e.actionIcon,i=e.actionHref,o=e.actionOnClick,c=e.alwaysShowActionText,u=b()("header-cake",this.props.className,{"is-compact":this.props.isCompact});return h.a.createElement(j.a,{className:u},h.a.createElement(A,{text:t,href:n,onClick:this.props.onClick}),h.a.createElement("div",{className:"header-cake__title",role:"presentation",onClick:this.props.onTitleClick},this.props.children),s||h.a.createElement(A,{text:r||t,href:i||n,onClick:o,icon:a,alwaysShowActionText:c,spacer:!o}))}}]),n}(m.Component);N.displayName="HeaderCake",N.propTypes={onClick:p.a.func,onTitleClick:p.a.func,backText:p.a.string,backHref:p.a.string,actionButton:p.a.element,actionText:p.a.string,actionHref:p.a.string,actionIcon:p.a.string,actionOnClick:p.a.func,alwaysShowActionText:p.a.bool},N.defaultProps={isCompact:!1,alwaysShowActionText:!1}},"./components/header-cake/style.scss":function(e,t,n){},"./state/plans/selectors.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return p}));var s=n("../node_modules/lodash-es/find.js"),r=n("../node_modules/lodash-es/get.js"),a=n("./lib/create-selector/index.js"),i=n("./lib/plans/index.js"),o=function(e){return e.plans.items},c=function(e){return e.plans.requesting},u=Object(a.a)((function(e,t){return Object(s.a)(o(e),{product_id:t})}),(function(e){return o(e)})),d=Object(a.a)((function(e,t){return Object(s.a)(o(e),{product_slug:t})}),(function(e){return o(e)}));function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=u(e,t);return Object(r.a)(s,"raw_price",-1)<0?null:n?Object(i.b)(s.product_slug,s.raw_price):s.raw_price}function p(e,t){var n=u(e,t);return Object(r.a)(n,"product_slug",null)}},"./state/purchases/actions.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return p}));var s=n("../packages/i18n-calypso/dist/esm/index.js"),r=n("./state/action-types.js"),a=n("./state/happychat/user/actions.js"),i=n("./lib/wp/browser.js").a.undocumented(),o=s.a.translate("There was an error retrieving purchases."),c=s.a.translate("There was an error removing the purchase."),u=function(){return function(e){e({type:r.Wn}),e(Object(a.a)())}},d=function(e){return function(t){return t({type:r.Xn,siteId:e}),new Promise((function(t,n){i.sitePurchases(e,(function(e,s){e?n(e):t(s)}))})).then((function(n){t({type:r.Yn,siteId:e,purchases:n})})).catch((function(){t({type:r.Zn,error:o})}))}},l=function(e){return function(t){return t({type:r.ao}),new Promise((function(e,t){i.me().purchases((function(n,s){n?t(n):e(s)}))})).then((function(n){t({type:r.bo,purchases:n,userId:e})})).catch((function(){t({type:r.co,error:o})}))}},p=function(e,t){return function(n){return new Promise((function(t,n){i.me().deletePurchase(e,(function(e,s){e?n(e):t(s)}))})).then((function(e){n({type:r.do,purchases:e.purchases,userId:t}),n(Object(a.a)())})).catch((function(e){n({type:r.eo,error:e.message||c})}))}}},"./state/purchases/selectors.js":function(e,t,n){"use strict";n.d(t,"h",(function(){return b})),n.d(t,"e",(function(){return j})),n.d(t,"a",(function(){return _})),n.d(t,"g",(function(){return y})),n.d(t,"f",(function(){return v})),n.d(t,"n",(function(){return x})),n.d(t,"d",(function(){return w})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return k})),n.d(t,"m",(function(){return O})),n.d(t,"l",(function(){return T})),n.d(t,"k",(function(){return C})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return S}));var s=n("../node_modules/lodash-es/get.js"),r=n("../node_modules/lodash-es/some.js"),a=n("../node_modules/lodash-es/find.js"),i=n("./lib/create-selector/index.js"),o=n("../node_modules/lodash-es/camelCase.js"),c=n("./lib/products-values/sort.js");function u(e){var t={id:Number(e.ID),active:Boolean(e.active),amount:Number(e.amount),attachedToPurchaseId:Number(e.attached_to_purchase_id),mostRecentRenewDate:e.most_recent_renew_date,canDisableAutoRenew:Boolean(e.can_disable_auto_renew),canExplicitRenew:Boolean(e.can_explicit_renew),costToUnbundle:e.cost_to_unbundle?Number(e.cost_to_unbundle):Number(e.amount),costToUnbundleText:e.cost_to_unbundle_display?e.cost_to_unbundle_display:e.price_text,currencyCode:e.currency_code,currencySymbol:e.currency_symbol,description:e.description,domain:e.domain,domainRegistrationAgreementUrl:e.domain_registration_agreement_url||null,error:null,blogCreatedDate:e.blog_created_date,expiryDate:e.expiry_date,expiryStatus:Object(o.default)(e.expiry_status),includedDomain:e.included_domain,includedDomainPurchaseAmount:e.included_domain_purchase_amount,isCancelable:Boolean(e.is_cancelable),isDomainRegistration:Boolean(e.is_domain_registration),isRechargeable:Boolean(e.is_rechargable),isRefundable:Boolean(e.is_refundable),isRenewable:Boolean(e.is_renewable),isRenewal:Boolean(e.is_renewal),meta:e.meta,priceText:e.price_text,partnerName:e.partner_name,partnerSlug:e.partner_slug,partnerKeyId:e.partner_key_id,payment:{name:e.payment_name,type:e.payment_type,countryCode:e.payment_country_code,countryName:e.payment_country_name},pendingTransfer:Boolean(e.pending_transfer),productId:Number(e.product_id),productName:e.product_name,productSlug:e.product_slug,refundAmount:Number(e.refund_amount),refundOptions:e.refund_options,refundText:e.refund_text,refundPeriodInDays:e.refund_period_in_days,renewDate:e.renew_date,saleAmount:e.sale_amount,siteId:Number(e.blog_id),siteName:e.blogname,subscribedDate:e.subscribed_date,subscriptionStatus:e.subscription_status,tagLine:e.tag_line,taxAmount:e.tax_amount,taxText:e.tax_text,userId:Number(e.user_id)};return"credit_card"===e.payment_type&&(t.payment.creditCard={id:Number(e.payment_card_id),type:e.payment_card_type,processor:e.payment_card_processor,number:e.payment_details,expiryDate:e.payment_expiry}),"paypal_direct"===e.payment_type&&(t.payment.expiryDate=e.payment_expiry),t}var d=n("./lib/purchases/index.js"),l=n("./lib/products-values/index.js"),p=n("./lib/plans/index.js"),m=n("./lib/plans/constants.js"),h=n("./state/plans/selectors.js"),f=Object(i.a)((function(e){return t=e.purchases.data,Array.isArray(t)?Object(c.a)(t.map(u)):[];var t}),(function(e){return[e.purchases.data]})),b=function(e,t){return e.purchases.hasLoadedUserPurchasesFromServer&&f(e).filter((function(e){return e.userId===t}))},j=function(e){return Object(s.a)(e,"purchases.error","")},_=function(e,t){return f(e).filter((function(e){return e.id===t})).shift()},y=function(e,t){return f(e).filter((function(e){return e.siteId===t}))},v=Object(i.a)((function(e,t){return y(e,t).filter(d.J)}),(function(e,t){return[e.purchases.data,t]})),x=function(e,t){return Object(r.a)(y(e,t),(function(e){return e.active&&Object(l.H)(e)}))},w=function(e,t){if(!t||!Object(d.H)(t)||Object(l.d)(t))return null;var n=t.includedDomain,s=y(e,t.siteId);return Object(a.a)(s,(function(e){return(Object(l.s)(e)||Object(l.v)(e))&&n===e.meta}))},g=function(e){var t=Object(p.i)(e.productSlug);if(!t)return null;var n=Object(p.e)({group:t.group,type:m.Sc,term:t.term});return Object(p.i)(n[0])},k=function(e,t){var n=g(t);return n?Object(h.c)(e,n.getProductId()):null},O=function(e,t){return e.purchases.hasLoadedUserPurchasesFromServer&&0<b(e,t).length},T=function(e){return e.purchases.isFetchingUserPurchases},C=function(e){return e.purchases.isFetchingSitePurchases},I=function(e){return e.purchases.hasLoadedUserPurchasesFromServer},S=function(e){return e.purchases.hasLoadedSitePurchasesFromServer}},"./state/sites/selectors/has-jetpack-site-jetpack-themes-extended-features.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("./lib/version-compare/index.js"),r=n("./state/sites/selectors/get-site-option.js"),a=n("./state/sites/selectors/is-jetpack-site.js");function i(e,t){if(!Object(a.a)(e,t))return null;var n=Object(r.a)(e,t,"jetpack_version");return Object(s.a)(n,"4.7")>=0}},"./state/sites/selectors/is-jetpack-site-multi-site.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n("./state/selectors/get-raw-site.js"),r=n("./state/sites/selectors/is-jetpack-site.js");function a(e,t){var n=Object(s.a)(e,t);return n&&Object(r.a)(e,t)?!0===n.is_multisite:null}},"./state/themes/actions/receive-theme.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("./state/themes/actions/receive-themes.js");n("./state/themes/init.js");function r(e,t){return Object(s.a)([e],t)}},"./state/themes/actions/receive-themes.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var s=n("../node_modules/lodash-es/filter.js"),r=n("./state/themes/action-types.js"),a=n("./state/sites/selectors/is-jetpack-site.js"),i=n("./state/sites/selectors/has-jetpack-site-jetpack-themes-extended-features.js"),o=n("./state/sites/selectors/is-jetpack-site-multi-site.js");n("./state/themes/init.js");var c=n("./state/themes/utils.js");function u(e,t,n,u){return function(d,l){var p=e,m=u;if(Object(a.a)(l(),t)){var h=function(e,t){return Object(a.a)(e,t)&&Object(i.a)(e,t)&&!Object(o.a)(e,t)}(l(),t);m=(p=Object(s.a)(e,(function(e){return Object(c.g)(n,e)&&!(h&&Object(c.f)(e))}))).length}d({type:r.k,themes:p,siteId:t,query:n,found:m})}}}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[398],{"../packages/popup-monitor/dist/esm/index.js":function(e,t,n){"use strict";var r,s=n("../node_modules/lodash-es/assign.js"),o=n("../node_modules/events/events.js");function i(){var e=this;this.intervals={},this.monitorInterval=null,this.windowInstance=null,this.onMessage=function(t){t.source===e.windowInstance&&e.emit("message",t.data)}}r=i.prototype,Object(s.a)(r,o.EventEmitter.prototype),r.emitChange=function(){this.emit("change")},r.off=r.removeListener,i.prototype.open=function(e,t,n){return t=t||Date.now(),this.windowInstance=window.open(e,t,n),this.startMonitoring(t,this.windowInstance),window.addEventListener("message",this.onMessage,!1),this},i.prototype.getScreenCenterSpecs=function(e,t){var n=void 0!==window.screenTop?window.screenTop:window.screenY,r=void 0!==window.screenLeft?window.screenLeft:window.screenX;return["width="+e,"height="+t,"top="+(n+window.innerHeight/2-t/2),"left="+(r+window.innerWidth/2-e/2)].join()},i.prototype.isOpen=function(e){var t=!1;try{t=this.intervals[e]&&this.intervals[e].closed}catch(e){}return!t},i.prototype.checkStatus=function(){for(var e in this.intervals)this.intervals.hasOwnProperty(e)&&!this.isOpen(e)&&(this.emit("close",e),delete this.intervals[e]);0===Object.keys(this.intervals).length&&(clearInterval(this.monitorInterval),delete this.monitorInterval,window.removeEventListener("message",this.onMessage))},i.prototype.startMonitoring=function(e,t){this.monitorInterval||(this.monitorInterval=setInterval(this.checkStatus.bind(this),100)),this.intervals[e]=t};t.a=i},"../packages/request-external-access/dist/esm/index.js":function(e,t,n){"use strict";var r=n("../packages/popup-monitor/dist/esm/index.js");t.a=function(e,t){var n,s=new r.a;s.open(e,null,"toolbar=0,location=0,status=0,menubar=0,"+s.getScreenCenterSpecs(780,700)),s.once("close",(function(){var e={};n&&n.keyring_id&&(e.keyring_id=Number(n.keyring_id),e.id_token=n.id_token,e.user=n.user),t(e)})),s.on("message",(function(e){return n=e}))}},"./components/forms/form-password-input/index.jsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("../node_modules/@babel/runtime/helpers/extends.js"),s=n.n(r),o=n("../node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(o),a=n("../node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(a),u=n("../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),l=n.n(u),d=n("../node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),h=n("../node_modules/@babel/runtime/helpers/createSuper.js"),m=n.n(h),f=n("../node_modules/@babel/runtime/helpers/defineProperty.js"),b=n.n(f),j=n("../packages/viewport/dist/esm/index.js"),g=n("../node_modules/react/index.js"),v=n.n(g),w=n("./components/gridicon/index.tsx"),_=n("../node_modules/classnames/index.js"),y=n.n(_),k=n("../node_modules/lodash-es/omit.js"),O=n("./components/forms/form-text-input/index.jsx"),E=(n("./components/forms/form-password-input/style.scss"),function(e){p()(n,e);var t=m()(n);function n(){var e;i()(this,n);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),b()(l()(e),"state",{hidePassword:!0}),b()(l()(e),"textFieldRef",v.a.createRef()),b()(l()(e),"togglePasswordVisibility",(function(){e.setState({hidePassword:!e.state.hidePassword})})),b()(l()(e),"focus",(function(){e.textFieldRef.current.focus()})),e}return c()(n,[{key:"componentDidMount",value:function(){Object(j.e)()?this.state={hidePassword:!1}:this.state={hidePassword:!0}}},{key:"hidden",value:function(){return!!this.props.hideToggle||(this.props.submitting||this.state.hidePassword)}},{key:"render",value:function(){var e=y()({"form-password-input__toggle":!0,"form-password-input__toggle-visibility":!this.props.hideToggle});return v.a.createElement("div",{className:"form-password-input"},v.a.createElement(O.a,s()({},Object(k.a)(this.props,"hideToggle","submitting"),{autoComplete:"off",ref:this.textFieldRef,type:this.hidden()?"password":"text"})),v.a.createElement("span",{className:e,onClick:this.togglePasswordVisibility},this.hidden()?v.a.createElement(w.a,{icon:"not-visible"}):v.a.createElement(w.a,{icon:"visible"})))}}]),n}(v.a.Component));b()(E,"displayName","FormPasswordInput")},"./components/forms/form-password-input/style.scss":function(e,t,n){},"./components/social-buttons/apple.js":function(e,t,n){"use strict";var r=n("../node_modules/@babel/runtime/helpers/asyncToGenerator.js"),s=n.n(r),o=n("../node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(o),a=n("../node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(a),u=n("../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),l=n.n(u),d=n("../node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),h=n("../node_modules/@babel/runtime/helpers/createSuper.js"),m=n.n(h),f=n("../node_modules/@babel/runtime/helpers/defineProperty.js"),b=n.n(f),j=n("./config/index.js"),g=n("../node_modules/classnames/index.js"),v=n.n(g),w=n("../node_modules/react/index.js"),_=n.n(w),y=n("../node_modules/prop-types/index.js"),k=n.n(y),O=n("../node_modules/react-redux/es/index.js"),E=n("../packages/i18n-calypso/dist/esm/index.js"),x=n("../node_modules/lodash-es/noop.js"),C=n("../packages/load-script/dist/esm/index.js"),A=n("./state/login/selectors.js"),T=n("../packages/request-external-access/dist/esm/index.js"),P=(n("./components/social-buttons/style.scss"),n("./components/social-icons/apple.jsx")),R="https://public-api.wordpress.com/connect/?magic=keyring&service=apple&action=request&for=connect",S=function(e){p()(r,e);var t,n=m()(r);function r(){var e;i()(this,r);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return e=n.call.apply(n,[this].concat(s)),b()(l()(e),"appleClient",null),b()(l()(e),"handleClick",(function(t){t.preventDefault(),e.props.onClick&&e.props.onClick(t),"popup"!==e.props.uxMode?"redirect"!==e.props.uxMode||e.loadAppleClient().then((function(e){return e.auth.signIn()})):Object(T.a)(R,e.props.responseHandler)})),e}return c()(r,[{key:"componentDidMount",value:function(){j.a.isEnabled("sign-in-with-apple")&&"redirect"===this.props.uxMode&&(this.props.socialServiceResponse&&this.handleSocialResponseFromRedirect(this.props.socialServiceResponse),this.loadAppleClient())}},{key:"handleSocialResponseFromRedirect",value:function(e){if(e.client_id===Object(j.a)("apple_oauth_client_id")){var t=window.sessionStorage.getItem("siwa_state");if(window.sessionStorage.removeItem("siwa_state"),e.state===t){var n={email:e.user_email,name:e.user_name};this.props.responseHandler({id_token:e.id_token,user:n})}}}},{key:"loadAppleClient",value:(t=s()(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appleClient){e.next=2;break}return e.abrupt("return",this.appleClient);case 2:if(window.AppleID){e.next=5;break}return e.next=5,Object(C.a)("https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js");case 5:return t=String(Math.floor(1e10*Math.random())),window.sessionStorage.setItem("siwa_state",t),window.AppleID.auth.init({clientId:this.props.clientId,scope:this.props.scope,redirectURI:this.props.redirectUri,state:t}),this.appleClient=window.AppleID,e.abrupt("return",this.appleClient);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){if(!j.a.isEnabled("sign-in-with-apple"))return null;var e=this.props,t=e.children,n=e.isFormDisabled,r=null;if(t){var s={className:v()({disabled:n}),onClick:this.handleClick};r=_.a.cloneElement(t,s)}return _.a.createElement(w.Fragment,null,r||_.a.createElement("button",{className:v()("social-buttons__button button",{disabled:n}),onClick:this.handleClick},_.a.createElement(P.a,{isDisabled:n}),_.a.createElement("span",{className:"social-buttons__service-name"},this.props.translate("Continue with %(service)s",{args:{service:"Apple"},comment:'%(service)s is the name of a third-party authentication provider, e.g. "Google", "Facebook", "Apple" ...'}))))}}]),r}(w.Component);b()(S,"propTypes",{clientId:k.a.string.isRequired,isFormDisabled:k.a.bool,redirectUri:k.a.string,responseHandler:k.a.func.isRequired,scope:k.a.string,uxMode:k.a.oneOf(["redirect","popup"]),socialServiceResponse:k.a.object}),b()(S,"defaultProps",{onClick:x.a,scope:"name email",uxMode:"popup"}),t.a=Object(O.c)((function(e){return{isFormDisabled:Object(A.u)(e)}}),null)(Object(E.c)(S))},"./components/social-buttons/google.js":function(e,t,n){"use strict";var r=n("../node_modules/@babel/runtime/helpers/asyncToGenerator.js"),s=n.n(r),o=n("../node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(o),a=n("../node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(a),u=n("../node_modules/@babel/runtime/helpers/assertThisInitialized.js"),l=n.n(u),d=n("../node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),h=n("../node_modules/@babel/runtime/helpers/createSuper.js"),m=n.n(h),f=n("../node_modules/@babel/runtime/helpers/defineProperty.js"),b=n.n(f),j=n("../node_modules/react/index.js"),g=n.n(j),v=n("../node_modules/prop-types/index.js"),w=n.n(v),_=n("../node_modules/classnames/index.js"),y=n.n(_),k=n("../node_modules/react-redux/es/index.js"),O=n("../packages/load-script/dist/esm/index.js"),E=n("../packages/i18n-calypso/dist/esm/index.js"),x=n("../node_modules/lodash-es/noop.js"),C=n("./components/social-icons/google.jsx"),A=n("./components/popover/index.jsx"),T=n("./lib/formatting/index.js"),P=n("./state/analytics/actions/record-with-client-id.js"),R=n("./state/login/selectors.js"),S=(n("./components/social-buttons/style.scss"),!1),I=function(e){p()(o,e);var t,n,r=m()(o);function o(e){var t;return i()(this,o),t=r.call(this,e),b()(l()(t),"state",{error:"",showError:!1,errorRef:null,isDisabled:!0}),t.initialized=null,t.handleClick=t.handleClick.bind(l()(t)),t.showError=t.showError.bind(l()(t)),t.hideError=t.hideError.bind(l()(t)),t}return c()(o,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"loadDependency",value:(n=s()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.gapi){e.next=3;break}return e.next=3,Object(O.a)("https://apis.google.com/js/platform.js");case 3:return e.abrupt("return",window.gapi);case 4:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"initializeAuth2",value:(t=s()(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.auth2.init({fetch_basic_profile:this.props.fetchBasicProfile,client_id:this.props.clientId,scope:this.props.scope,ux_mode:this.props.uxMode,redirect_uri:this.props.redirectUri});case 4:S=!0;case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"initialize",value:function(){var e=this;if(this.initialized)return this.initialized;this.setState({error:""});var t=this.props.translate;return this.initialized=this.loadDependency().then((function(e){return new Promise((function(t){return e.load("auth2",t)})).then((function(){return e}))})).then((function(t){return e.initializeAuth2(t).then((function(){e.setState({isDisabled:!1});var n=t.auth2.getAuthInstance().currentUser.get();return n&&"redirect"===e.props.uxMode&&e.props.responseHandler(n,!1),t}))})).catch((function(n){return e.initialized=null,"idpiframe_initialization_failed"===n.error&&e.setState({error:t('Please enable "third-party cookies" to connect your Google account.')}),Promise.reject(n)})),this.initialized}},{key:"handleClick",value:function(e){var t=this;if(e.preventDefault(),!this.state.isDisabled)if(this.props.onClick(e),this.state.error)this.setState({showError:!this.state.showError,errorRef:e.currentTarget});else{var n=this.props.responseHandler;window.gapi.auth2.getAuthInstance().signIn({prompt:"select_account"}).then(n,(function(e){t.props.recordTracksEvent("calypso_login_social_button_failure",{social_account_type:"google",error_code:e.error})}))}}},{key:"showError",value:function(e){this.state.error&&this.setState({showError:!0,errorRef:e.currentTarget})}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"render",value:function(){var e=Boolean(this.state.isDisabled||this.props.isFormDisabled||this.state.error),t=this.props.children,n=null;if(t){var r={className:y()({disabled:e}),onClick:this.handleClick,onMouseOver:this.showError,onFocus:this.showError,onMouseOut:this.hideError,onBlur:this.hideError};n=g.a.cloneElement(t,r)}return g.a.createElement(j.Fragment,null,n||g.a.createElement("button",{className:y()("social-buttons__button button",{disabled:e}),onMouseOver:this.showError,onFocus:this.showError,onMouseOut:this.hideError,onBlur:this.hideError,onClick:this.handleClick},g.a.createElement(C.a,{isDisabled:e}),g.a.createElement("span",{className:"social-buttons__service-name"},this.props.translate("Continue with %(service)s",{args:{service:"Google"},comment:'%(service)s is the name of a third-party authentication provider, e.g. "Google", "Facebook", "Apple" ...'}))),g.a.createElement(A.a,{id:"social-buttons__error",className:"social-buttons__error",isVisible:this.state.showError,onClose:this.hideError,position:"top",context:this.state.errorRef},Object(T.d)(this.state.error)))}}]),o}(j.Component);b()(I,"propTypes",{clientId:w.a.string.isRequired,fetchBasicProfile:w.a.bool,isFormDisabled:w.a.bool,onClick:w.a.func,recordTracksEvent:w.a.func.isRequired,redirectUri:w.a.string,responseHandler:w.a.func.isRequired,scope:w.a.string,translate:w.a.func.isRequired,uxMode:w.a.string}),b()(I,"defaultProps",{scope:"https://www.googleapis.com/auth/userinfo.profile",fetchBasicProfile:!0,onClick:x.a}),t.a=Object(k.c)((function(e){return{isFormDisabled:Object(R.u)(e)}}),{recordTracksEvent:P.b})(Object(E.c)(I))},"./components/social-buttons/style.scss":function(e,t,n){},"./components/social-icons/apple.jsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("../node_modules/@babel/runtime/helpers/extends.js"),s=n.n(r),o=n("../node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(o),a=n("../node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(a),u=n("../node_modules/@babel/runtime/helpers/inherits.js"),l=n.n(u),d=n("../node_modules/@babel/runtime/helpers/createSuper.js"),p=n.n(d),h=n("../node_modules/@babel/runtime/helpers/defineProperty.js"),m=n.n(h),f=n("../node_modules/react/index.js"),b=n.n(f),j=n("../node_modules/prop-types/index.js"),g=n.n(j),v=n("../node_modules/classnames/index.js"),w=n.n(v),_=n("../node_modules/lodash-es/omit.js"),y=(n("./components/social-icons/style.scss"),function(e){l()(n,e);var t=p()(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=Object(_.a)(this.props,["isDisabled"]);return b.a.createElement("svg",s()({className:w()("social-icons social-icons__apple",{"social-icons--enabled":!this.props.isDisabled,"social-icons--disabled":!!this.props.isDisabled}),width:"20",height:"20",viewBox:"0 0 170 170",xmlns:"http://www.w3.org/2000/svg"},e),b.a.createElement("path",{d:"m150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.58 6.53-8.33 11.05-11.22 13.56-4.48 4.12-9.28 6.23-14.42 6.35-3.69 0-8.14-1.05-13.32-3.18-5.197-2.12-9.973-3.17-14.34-3.17-4.58 0-9.492 1.05-14.746 3.17-5.262 2.13-9.501 3.24-12.742 3.35-4.929 0.21-9.842-1.96-14.746-6.52-3.13-2.73-7.045-7.41-11.735-14.04-5.032-7.08-9.169-15.29-12.41-24.65-3.471-10.11-5.211-19.9-5.211-29.378 0-10.857 2.346-20.221 7.045-28.068 3.693-6.303 8.606-11.275 14.755-14.925s12.793-5.51 19.948-5.629c3.915 0 9.049 1.211 15.429 3.591 6.362 2.388 10.447 3.599 12.238 3.599 1.339 0 5.877-1.416 13.57-4.239 7.275-2.618 13.415-3.702 18.445-3.275 13.63 1.1 23.87 6.473 30.68 16.153-12.19 7.386-18.22 17.731-18.1 31.002 0.11 10.337 3.86 18.939 11.23 25.769 3.34 3.17 7.07 5.62 11.22 7.36-0.9 2.61-1.85 5.11-2.86 7.51zm-31.26-123.01c0 8.1021-2.96 15.667-8.86 22.669-7.12 8.324-15.732 13.134-25.071 12.375-0.119-0.972-0.188-1.995-0.188-3.07 0-7.778 3.386-16.102 9.399-22.908 3.002-3.446 6.82-6.3113 11.45-8.597 4.62-2.2516 8.99-3.4968 13.1-3.71 0.12 1.0831 0.17 2.1663 0.17 3.2409z"}))}}]),n}(f.PureComponent));m()(y,"propTypes",{isDisabled:g.a.bool}),m()(y,"defaultProps",{isDisabled:!1})},"./components/social-icons/google.jsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("../node_modules/@babel/runtime/helpers/extends.js"),s=n.n(r),o=n("../node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(o),a=n("../node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(a),u=n("../node_modules/@babel/runtime/helpers/inherits.js"),l=n.n(u),d=n("../node_modules/@babel/runtime/helpers/createSuper.js"),p=n.n(d),h=n("../node_modules/@babel/runtime/helpers/defineProperty.js"),m=n.n(h),f=n("../node_modules/react/index.js"),b=n.n(f),j=n("../node_modules/prop-types/index.js"),g=n.n(j),v=n("../node_modules/classnames/index.js"),w=n.n(v),_=n("../node_modules/lodash-es/omit.js"),y=(n("./components/social-icons/style.scss"),function(e){l()(n,e);var t=p()(n);function n(){return i()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=Object(_.a)(this.props,["isDisabled"]);return b.a.createElement("svg",s()({className:w()("social-icons social-icons__google",{"social-icons--enabled":!this.props.isDisabled,"social-icons--disabled":!!this.props.isDisabled}),width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},e),b.a.createElement("g",{fill:"none",fillRule:"evenodd"},b.a.createElement("path",{d:"M19.6 10.227c0-.709-.064-1.39-.182-2.045H10v3.868h5.382a4.6 4.6 0 0 1-1.996 3.018v2.51h3.232c1.891-1.742 2.982-4.305 2.982-7.35z",fill:"#4285F4"}),b.a.createElement("path",{d:"M10 20c2.7 0 4.964-.895 6.618-2.423l-3.232-2.509c-.895.6-2.04.955-3.386.955-2.605 0-4.81-1.76-5.595-4.123H1.064v2.59A9.996 9.996 0 0 0 10 20z",fill:"#34A853"}),b.a.createElement("path",{d:"M4.405 11.9c-.2-.6-.314-1.24-.314-1.9 0-.66.114-1.3.314-1.9V5.51H1.064A9.996 9.996 0 0 0 0 10c0 1.614.386 3.14 1.064 4.49l3.34-2.59z",fill:"#FBBC05"}),b.a.createElement("path",{d:"M10 3.977c1.468 0 2.786.505 3.823 1.496l2.868-2.868C14.959.99 12.695 0 10 0 6.09 0 2.71 2.24 1.064 5.51l3.34 2.59C5.192 5.736 7.396 3.977 10 3.977z",fill:"#EA4335"})))}}]),n}(f.PureComponent));m()(y,"propTypes",{isDisabled:g.a.bool}),m()(y,"defaultProps",{isDisabled:!1})},"./components/social-icons/style.scss":function(e,t,n){},"./state/login/init.js":function(e,t,n){"use strict";var r=n("./state/redux-store.ts"),s=n("../node_modules/@babel/runtime/helpers/objectSpread2.js"),o=n.n(s),i=n("../node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(i),c=n("../node_modules/lodash-es/startsWith.js"),u=n("../node_modules/lodash-es/get.js"),l=n("../node_modules/lodash-es/pick.js"),d=n("../node_modules/lodash-es/isEmpty.js"),p=n("./state/utils/without-persistence.js"),h=n("./state/utils/reducer-utils.js"),m=n("./state/utils/with-storage-key.js"),f=n("./state/login/magic-login/constants.js"),b=n("./state/action-types.js"),j=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.gj:return null;case b.oj:return f.e;case b.pj:return f.b;case b.qj:return f.c;case b.rj:return f.d}return e})),g=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.gj:case b.hj:case b.lj:return!1;case b.mj:return!0;case b.nj:return!1}return e})),v=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.ij:return!1;case b.jj:return!0;case b.kj:case b.qj:return!1}return e})),w=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.ij:case b.jj:return!1;case b.kj:return!0}return e})),_=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.ij:var n=t.error;return n;case b.jj:case b.kj:return null}return e})),y=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.hj:return null;case b.lj:var n=t.error;return n;case b.mj:case b.nj:case b.oj:return null}return e})),k=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.hj:case b.lj:case b.mj:return!1;case b.nj:return!0;case b.oj:return!1}return e})),O=Object(h.a)({isFetchingAuth:v,isFetchingEmail:g,requestAuthError:_,requestAuthSuccess:w,requestEmailError:y,requestEmailSuccess:k,currentView:j}),E=n("./lib/paths/index.js"),x=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Vi:return!0;case b.Xi:case b.Yi:return!1;case b.cj:return!0;case b.dj:case b.ej:return!1;case b.Yr:return!0;case b.Zr:case b.as:return!1;case b.Vr:return!0;case b.Wr:case b.Xr:return!1}return e})),C=Object(h.a)({original:Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.To:var n=t.path,r=t.query;return Object(c.a)(n,"/log-in")&&r.redirect_to||e}return e})),sanitized:Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.cj:case b.dj:return null;case b.ej:var n=t.data;return Object(u.a)(n,"redirect_to",null);case b.Yr:case b.Zr:return null;case b.as:var r=t.data;return Object(u.a)(r,"redirect_to",null);case b.Pr:case b.Qr:return null;case b.Rr:return Object(u.a)(t,"redirect_to",null)}return e}))}),A=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Vi:return!0;case b.Xi:case b.Yi:return!1;case b.cj:return!0;case b.dj:return!1;case b.ej:return!0;case b.To:return!1;case b.Yr:return!0;case b.Zr:return!1;case b.as:return!0}return e})),T=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Vi:return null;case b.Xi:var n=t.error;return n;case b.Yi:case b.cj:return null;case b.dj:var r=t.error;return r;case b.ej:case b.Fs:return null;case b.Gs:var s=t.error;return s;case b.Sr:return null;case b.Tr:var o=t.error;return o;case b.Ur:case b.Pr:return null;case b.Qr:var i=t.error;return i;case b.Rr:case b.Vr:return null;case b.Wr:var a=t.error;return a;case b.Xr:case b.To:case b.bj:return null}return e})),P=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Vi:return null;case b.Xi:return!1;case b.Yi:return!0;case b.cj:return null;case b.dj:return!1;case b.ej:return!0;case b.Sr:return null;case b.Ur:return!0;case b.Pr:return null;case b.Rr:return!0;case b.Vr:return null;case b.Xr:return!0}return e})),R=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Fs:var n=t.notice;return n;case b.Gs:return null;case b.Hs:var r=t.notice;return r;case b.Sr:var s=t.notice;return s;case b.Tr:return null;case b.To:return t.path===Object(E.a)({isNative:!0,twoFactorAuthType:"sms"})?e:null}return e})),S=function(e,t){var n=t.twoStepNonce,r=t.nonceType;return Object.assign({},e,a()({},"two_step_nonce_".concat(r),n))},I=["push_web_token","phone_number","two_step_id","two_step_nonce","two_step_supported_auth_types","two_step_notification_sent","two_step_nonce_backup","two_step_nonce_sms","two_step_nonce_authenticator","two_step_nonce_push","two_step_nonce_webauthn","user_id"],F=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.cj:case b.dj:return null;case b.ej:var n=t.data;if(n){var r=Object(l.a)(n,I);if(!Object(d.a)(r))return r}return null;case b.Yr:case b.Zr:return null;case b.as:var s=t.data;if(s){var o=Object(l.a)(s,I);if(!Object(d.a)(o))return o}return null;case b.Rr:return null;case b.Gs:var i=t.twoStepNonce;return S(e,{twoStepNonce:i,nonceType:"sms"});case b.Hs:var a=t.twoStepNonce;return S(e,{twoStepNonce:a,nonceType:"sms"});case b.Is:return S(e,t)}return e})),D=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.zs:return!0;case b.As:case b.Bs:return!1}return e})),q=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.zs:return null;case b.As:var n=t.error;return n;case b.Bs:case b.To:case b.bj:return null}return e})),M=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inProgress:!1,success:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Ds:return o()({},e,{inProgress:!0,success:!1});case b.Es:return o()({},e,{inProgress:!1});case b.Cs:return o()({},e,{inProgress:!1,success:!0})}return e})),z=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isCreating:!1,createError:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Sr:return{isCreating:!0};case b.Tr:var n=t.error;return{isCreating:!1,createError:n};case b.Ur:var r=t.data,s=r.username,i=r.bearerToken;return{isCreating:!1,username:s,bearerToken:i,createError:null};case b.Zr:var a=t.error;return o()({},e,{requestError:a});case b.ic:return o()({},e,{bearerToken:null,username:null,createError:null});case b.cj:return o()({},e,{createError:null})}return e})),N=function(e,t){var n=t.error,r=t.authInfo;return"user_exists"===n.code?{isLinking:!0,email:n.email,authInfo:r}:e},L=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLinking:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Tr:case b.Zr:return N(e,t);case b.Ur:case b.Rr:case b.ic:return{isLinking:!1}}return e})),H=Object(p.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.Vi:case b.Xi:return null;case b.Yi:var n=t.data.type;return n;case b.Zi:case b.To:return null}return e})),U=Object(h.a)({authAccountType:H,isFormDisabled:A,isRequesting:x,isRequestingTwoFactorAuth:D,magicLogin:O,redirectTo:C,requestError:T,requestNotice:R,requestSuccess:P,socialAccount:z,socialAccountLink:L,twoFactorAuth:F,twoFactorAuthPushPoll:M,twoFactorAuthRequestError:q}),V=Object(m.a)("login",U);Object(r.a)(["login"],V)},"./state/login/magic-login/constants.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a}));var r="https://wordpress.com/wp-login.php?action=magic-login",s="CHECK_YOUR_EMAIL_PAGE",o="LINK_EXPIRED_PAGE",i="REQUEST_FORM",a="INTERSTITIAL_PAGE"},"./state/login/selectors.js":function(e,t,n){"use strict";n.d(t,"t",(function(){return o})),n.d(t,"n",(function(){return i})),n.d(t,"p",(function(){return a})),n.d(t,"s",(function(){return c})),n.d(t,"q",(function(){return u})),n.d(t,"r",(function(){return l})),n.d(t,"y",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"x",(function(){return h})),n.d(t,"v",(function(){return m})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return g})),n.d(t,"u",(function(){return v})),n.d(t,"a",(function(){return w})),n.d(t,"w",(function(){return _})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return O})),n.d(t,"i",(function(){return E})),n.d(t,"j",(function(){return x})),n.d(t,"l",(function(){return C})),n.d(t,"m",(function(){return A})),n.d(t,"k",(function(){return T}));var r=n("../node_modules/lodash-es/get.js"),s=n("../node_modules/lodash-es/isEmpty.js"),o=(n("./state/login/init.js"),function(e){return Object(r.a)(e,"login.twoFactorAuth.user_id",null)}),i=function(e,t){var n;return null!==(n=e.login.twoFactorAuth["two_step_nonce_".concat(t)])&&void 0!==n?n:null},a=function(e){return Object(r.a)(e,"login.twoFactorAuth.two_step_notification_sent",null)},c=function(e){return Object(r.a)(e,"login.twoFactorAuth.push_web_token",null)},u=function(e){return Object(r.a)(e,"login.twoFactorAuthPushPoll.inProgress",!1)},l=function(e){return Object(r.a)(e,"login.twoFactorAuthPushPoll.success",!1)},d=function(e){var t=Object(r.a)(e,"login.twoFactorAuth");return!Object(s.a)(t)},p=function(e){return Object(r.a)(e,"login.twoFactorAuthRequestError",null)},h=function(e,t){var n=function(e){return Object(r.a)(e,"login.twoFactorAuth.two_step_supported_auth_types",null)}(e);return n&&n.indexOf(t)>=0},m=function(e){return Object(r.a)(e,"login.isRequesting",!1)},f=function(e){return Object(r.a)(e,"login.requestError",null)},b=function(e){return Object(r.a)(e,"login.requestNotice",null)},j=function(e){return Object(r.a)(e,"login.redirectTo.original",null)},g=function(e){return Object(r.a)(e,"login.redirectTo.sanitized",null)},v=function(e){return Object(r.a)(e,"login.isFormDisabled",!1)},w=function(e){return Object(r.a)(e,"login.authAccountType",null)},_=function(e){return Object(r.a)(e,"login.socialAccount.isCreating",null)},y=function(e){return Object(r.a)(e,"login.socialAccount.username",null)},k=function(e){return Object(r.a)(e,"login.socialAccount.bearerToken",null)},O=function(e){return Object(r.a)(e,"login.socialAccount.createError",null)},E=function(e){return Object(r.a)(e,"login.socialAccount.requestError",null)},x=function(e){return Object(r.a)(e,"login.socialAccountLink.isLinking",null)},C=function(e){return Object(r.a)(e,"login.socialAccountLink.email",null)},A=function(e){return Object(r.a)(e,"login.socialAccountLink.authInfo.service",null)},T=function(e){return Object(r.a)(e,"login.socialAccountLink.authInfo",null)}}}]);